{"ast":null,"code":"var _jsxFileName = \"/Users/louisliu/code/lottery/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport './App.styl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [state, setState] = useState({\n    time: 0,\n    duration: 0,\n    paused: true,\n    muted: false,\n    volumn: 1\n  });\n  const [rotated, setRotated] = useState(0);\n  const [stopAnimate, setStopAnimate] = useState(false);\n  const [musicStyle, setMusicStyle] = useState({});\n  const audioRef = useRef(null);\n\n  const animateFn = () => {\n    window.requestAnimationFrame(() => {\n      if (stopAnimate) return;\n      setRotated(rotated % 360);\n      setMusicStyle({\n        transform: `rotate(${rotated}deg)`\n      });\n    });\n  };\n\n  const onMusicPlay = () => {\n    let audio = audioRef.current;\n    console.log(audioRef.play());\n\n    if (audio.paused) {\n      try {\n        audio.play();\n        state.paused = false;\n        setStopAnimate(false);\n        animateFn();\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  };\n\n  useEffect(() => {\n    audioRef.current.addEventListener('click', e => {\n      console.log(e);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lottery-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lottery-music\",\n        children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n          className: \"lottery-music__item\",\n          src: \"@/assets/music/music.mp3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: e => audioRef.current = e,\n          className: \"lottery-music__box\",\n          style: musicStyle,\n          onClick: onMusicPlay,\n          children: \"Music\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lottery-prizeBar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lottery-menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"\\u8FDB\\u5165\\u62BD\\u5956\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lottery-none\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"\\u62BD\\u5956\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"\\u91CD\\u65B0\\u62BD\\u5956\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"\\u5BFC\\u51FA\\u62BD\\u5956\\u7ED3\\u679C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"\\u91CD\\u7F6E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lottery-bubble__container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lottery-bubble animated\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(App, \"EQNKiYYDUvYrmAy15wvvxCOzxgQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/louisliu/code/lottery/src/App.js"],"names":["React","useState","useRef","useEffect","App","state","setState","time","duration","paused","muted","volumn","rotated","setRotated","stopAnimate","setStopAnimate","musicStyle","setMusicStyle","audioRef","animateFn","window","requestAnimationFrame","transform","onMusicPlay","audio","current","console","log","play","e","addEventListener"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport './App.styl';\n\nfunction App() {\n  const [ state, setState ] = useState({\n    time: 0,\n    duration: 0,\n    paused: true,\n    muted: false,\n    volumn: 1\n  })\n  const [ rotated, setRotated ] = useState(0)\n  const [ stopAnimate, setStopAnimate ] = useState(false)\n  const [ musicStyle, setMusicStyle ] = useState({})\n  const audioRef = useRef(null)\n  const animateFn = () => {\n    window.requestAnimationFrame(() => {\n      if (stopAnimate) return\n      setRotated(rotated % 360)\n      setMusicStyle({\n        transform: `rotate(${rotated}deg)`\n      })\n    })\n  }\n  const onMusicPlay = () => {\n    let audio = audioRef.current\n    console.log(audioRef.play())\n    if (audio.paused) {\n      try {\n        audio.play()\n        state.paused = false\n        setStopAnimate(false)\n        animateFn()\n      } catch(e) {\n        console.log(e)\n      }\n    }\n  }\n\n  useEffect(() => {\n    audioRef.current.addEventListener('click', (e) => {\n      console.log(e)\n    })\n  })\n  return (\n    <>\n      <div className=\"lottery-container\">\n        <div className=\"lottery-music\">\n          <audio className=\"lottery-music__item\" src=\"@/assets/music/music.mp3\"></audio>\n          <div ref={e => audioRef.current = e} className=\"lottery-music__box\" style={musicStyle} onClick={onMusicPlay}>Music</div>\n        </div>\n        <div className=\"lottery-prizeBar\"></div>\n        <div className=\"lottery-menu\">\n          <button>进入抽奖</button>\n          <div className=\"lottery-none\">\n            <button>抽奖</button>\n            <button>重新抽奖</button>\n            <button>导出抽奖结果</button>\n            <button>重置</button>\n          </div>\n        </div>\n        <div className=\"lottery-bubble__container\">\n          <div className=\"lottery-bubble animated\"></div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}