{"ast":null,"code":";\n\n(function () {\n  //based on an Example by @curran\n  window.requestAnimFrame = function () {\n    return window.requestAnimationFrame;\n  }();\n\n  var canvas = document.getElementById('canvas');\n  var c = canvas.getContext('2d');\n  var numStars = 1500;\n  var radius = '0.' + Math.floor(Math.random() * 9) + 1;\n  var focalLength = canvas.width * 2;\n  var warp = 0;\n  var centerX, centerY;\n  var stars = [],\n      star;\n  var i;\n  var animate = true;\n  initializeStars();\n\n  function executeFrame() {\n    if (animate) window.requestAnimFrame(executeFrame);\n    moveStars();\n    drawStars();\n  }\n\n  function initializeStars() {\n    centerX = canvas.width / 2;\n    centerY = canvas.height / 2;\n    stars = [];\n\n    for (i = 0; i < numStars; i++) {\n      star = {\n        x: Math.random() * canvas.width,\n        y: Math.random() * canvas.height,\n        z: Math.random() * canvas.width,\n        o: '0.' + Math.floor(Math.random() * 99) + 1\n      };\n      stars.push(star);\n    }\n  }\n\n  function moveStars() {\n    for (i = 0; i < numStars; i++) {\n      star = stars[i];\n      star.z--;\n\n      if (star.z <= 0) {\n        star.z = canvas.width;\n      }\n    }\n  }\n\n  function drawStars() {\n    var pixelX, pixelY, pixelRadius; // Resize to the screen\n\n    if (canvas.width !== window.innerWidth || canvas.width !== window.innerWidth) {\n      canvas.width = window.innerWidth;\n      canvas.height = window.innerHeight;\n      initializeStars();\n    }\n\n    if (warp === 0) {\n      c.fillStyle = 'rgba(0,10,20,1)';\n      c.fillRect(0, 0, canvas.width, canvas.height);\n    }\n\n    c.fillStyle = 'rgba(209, 255, 255, ' + radius + ')';\n\n    for (i = 0; i < numStars; i++) {\n      star = stars[i];\n      pixelX = (star.x - centerX) * (focalLength / star.z);\n      pixelX += centerX;\n      pixelY = (star.y - centerY) * (focalLength / star.z);\n      pixelY += centerY;\n      pixelRadius = 1 * (focalLength / star.z);\n      c.fillRect(pixelX, pixelY, pixelRadius, pixelRadius);\n      c.fillStyle = 'rgba(209, 255, 255, ' + star.o + ')'; //c.fill();\n    }\n  } // document.getElementById('warp').addEventListener(\"click\", function(e) {\n  //     window.c.beginPath();\n  //     window.c.clearRect(0, 0, window.canvas.width, window.canvas.height);\n  //     window.warp = warp ? 0 : 1;\n  //     executeFrame();\n  // });\n\n\n  executeFrame();\n})();","map":{"version":3,"sources":["/Users/louisliu/code/lottery/client/src/libs/canvas.js"],"names":["window","requestAnimFrame","requestAnimationFrame","canvas","document","getElementById","c","getContext","numStars","radius","Math","floor","random","focalLength","width","warp","centerX","centerY","stars","star","i","animate","initializeStars","executeFrame","moveStars","drawStars","height","x","y","z","o","push","pixelX","pixelY","pixelRadius","innerWidth","innerHeight","fillStyle","fillRect"],"mappings":"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","sourcesContent":[";(function () {\n  //based on an Example by @curran\n  window.requestAnimFrame = (function () {\n    return window.requestAnimationFrame\n  })()\n  var canvas = document.getElementById('canvas')\n  var c = canvas.getContext('2d')\n\n  var numStars = 1500\n  var radius = '0.' + Math.floor(Math.random() * 9) + 1\n  var focalLength = canvas.width * 2\n  var warp = 0\n  var centerX, centerY\n\n  var stars = [],\n    star\n  var i\n\n  var animate = true\n\n  initializeStars()\n\n  function executeFrame() {\n    if (animate) window.requestAnimFrame(executeFrame)\n    moveStars()\n    drawStars()\n  }\n\n  function initializeStars() {\n    centerX = canvas.width / 2\n    centerY = canvas.height / 2\n\n    stars = []\n    for (i = 0; i < numStars; i++) {\n      star = {\n        x: Math.random() * canvas.width,\n        y: Math.random() * canvas.height,\n        z: Math.random() * canvas.width,\n        o: '0.' + Math.floor(Math.random() * 99) + 1,\n      }\n      stars.push(star)\n    }\n  }\n\n  function moveStars() {\n    for (i = 0; i < numStars; i++) {\n      star = stars[i]\n      star.z--\n\n      if (star.z <= 0) {\n        star.z = canvas.width\n      }\n    }\n  }\n\n  function drawStars() {\n    var pixelX, pixelY, pixelRadius\n\n    // Resize to the screen\n    if (\n      canvas.width !== window.innerWidth ||\n      canvas.width !== window.innerWidth\n    ) {\n      canvas.width = window.innerWidth\n      canvas.height = window.innerHeight\n      initializeStars()\n    }\n    if (warp === 0) {\n      c.fillStyle = 'rgba(0,10,20,1)'\n      c.fillRect(0, 0, canvas.width, canvas.height)\n    }\n    c.fillStyle = 'rgba(209, 255, 255, ' + radius + ')'\n    for (i = 0; i < numStars; i++) {\n      star = stars[i]\n\n      pixelX = (star.x - centerX) * (focalLength / star.z)\n      pixelX += centerX\n      pixelY = (star.y - centerY) * (focalLength / star.z)\n      pixelY += centerY\n      pixelRadius = 1 * (focalLength / star.z)\n\n      c.fillRect(pixelX, pixelY, pixelRadius, pixelRadius)\n      c.fillStyle = 'rgba(209, 255, 255, ' + star.o + ')'\n      //c.fill();\n    }\n  }\n\n  // document.getElementById('warp').addEventListener(\"click\", function(e) {\n  //     window.c.beginPath();\n  //     window.c.clearRect(0, 0, window.canvas.width, window.canvas.height);\n  //     window.warp = warp ? 0 : 1;\n  //     executeFrame();\n  // });\n\n  executeFrame()\n})()\n"]},"metadata":{},"sourceType":"module"}